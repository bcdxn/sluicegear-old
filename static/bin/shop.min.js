!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function i(t){return a.raw?t:encodeURIComponent(t)}function o(t){return a.raw?t:decodeURIComponent(t)}function e(t){return i(a.json?JSON.stringify(t):String(t))}function r(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(n," ")),a.json?JSON.parse(t):t}catch(i){}}function s(i,o){var e=a.raw?i:r(i);return t.isFunction(o)?o(e):e}var n=/\+/g,a=t.cookie=function(r,n,c){if(void 0!==n&&!t.isFunction(n)){if(c=t.extend({},a.defaults,c),"number"==typeof c.expires){var l=c.expires,d=c.expires=new Date;d.setTime(+d+864e5*l)}return document.cookie=[i(r),"=",e(n),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}for(var p=r?void 0:{},m=document.cookie?document.cookie.split("; "):[],h=0,u=m.length;u>h;h++){var g=m[h].split("="),v=o(g.shift()),C=g.join("=");if(r&&r===v){p=s(C,n);break}r||void 0===(C=s(C))||(p[v]=C)}return p};a.defaults={},t.removeCookie=function(i,o){return void 0===t.cookie(i)?!1:(t.cookie(i,"",t.extend({},o,{expires:-1})),!t.cookie(i))}}),!function(t,i){t.scrollToId=function(t,o){return o=o||1e3,i("html,body").animate({scrollTop:i(t).offset().top},o),!1},t.redirect=function(t){document.location.href=t},t.redirectNoAsk=function(t){window.onbeforeunload=function(){return null},document.location.href=t},t.confirm=function(o){i(".btn-wrapper").removeClass("show").addClass("hide"),i(".spinner-wrapper").removeClass("hide").addClass("show"),t.redirectNoAsk(o)},t.isUserMobile=function(){return/(iPad|iPhone|iPod)/gi.test(navigator.userAgent)||i(window).width<481}}(window.Sluice=window.Sluice||{},$),!function(t){function i(i,o,e,r){t(".bcd-toggler",t(this)).hasClass("on")?(t(".bcd-toggler",t(this)).removeClass("on").removeClass(i).addClass("off").addClass(o),t(".bcd-toggler-lbl",t(this)).html(r),t(this).trigger("switchoff")):(t(".bcd-toggler",t(this)).removeClass("off").removeClass(o).addClass("on").addClass(i),t(".bcd-toggler-lbl",t(this)).html(e),t(this).trigger("switchon"))}function o(t,o,e,r){i.call(this,t,o,e,r)}var e=['<div class="bcd-toggler-wrapper {{SIZE}} ">','<div class="bcd-toggler ','{{STATE}} {{STATE_STYLE_CLASS}}">','<div class="bcd-toggler-switch"></div>',"</div>",'<div class="bcd-toggler-lbl {{VISIBILITY}}">{{LABEL}}</div>',"</div>"].join("");t.fn.toggler=function(i){var r,s=i.size||"large",n=i.onColorClass||"default-on",a=i.offColorClass||"default-off",c=i.initState||"off",l=i.showLbl===!1?!1:!0,d=i.lblOn||"on",p=i.lblOff||"off";r=e.replace("{{SIZE}}",s).replace("{{STATE}}",c).replace("{{STATE_STYLE_CLASS}}","on"===c?n:a).replace("{{VISIBILITY}}",l?"visible":"none").replace("{{LABEL}}","off"===c?p:d),t(this).html(r),t(this).on("mousedown",".bcd-toggler-wrapper",function(){o.call(this,n,a,d,p)})}}(jQuery),!function(t){Sluice.ShopGallery=function(i){var o=this;this.gallery=t("#"+i),this.imgIndex=0,this.setHammockThumbnailSrc("img/hammocks/red/red.jpg"),this.setBagThumbnailSrc("img/bags/red.jpg"),this.setStrapsThumbnailSrc("img/straps.jpg"),this.hideStrapsThumbnail(),this.setMainGalleryImg(0),t(".gallery-thumbnail.hammock").on("click",function(){o.setMainGalleryImg(0)}),t(".gallery-thumbnail.bag").on("click",function(){o.setMainGalleryImg(1)}),t(".gallery-thumbnail.straps").on("click",function(){o.setMainGalleryImg(2)})},Sluice.ShopGallery.prototype.setMainGalleryImg=function(i){var o=t(".gallery-thumbnail").eq(i).css("background-image");t(".gallery-main").css("background-image",o),this.imgIndex=i,0===this.imgIndex?t(".gallery-main").removeClass("bag").removeClass("straps").addClass("hammock"):1===this.imgIndex?t(".gallery-main").removeClass("hammock").removeClass("straps").addClass("bag"):2===this.imgIndex&&t(".gallery-main").removeClass("hammock").removeClass("bag").addClass("straps")},Sluice.ShopGallery.prototype.setHammockThumbnailSrc=function(i){i="url('"+i+"')",i!==t(".gallery-thumbnail.hammock").css("background-image")&&(t(".gallery-thumbnail.hammock").css("background-image",i),0===this.imgIndex&&this.setMainGalleryImg(0))},Sluice.ShopGallery.prototype.setBagThumbnailSrc=function(i){i="url('"+i+"')",i!==t(".gallery-thumbnail.bag").css("background-image")&&(t(".gallery-thumbnail.bag").css("background-image",i),1===this.imgIndex&&this.setMainGalleryImg(1))},Sluice.ShopGallery.prototype.setStrapsThumbnailSrc=function(i){t(".gallery-thumbnail.straps").css("background-image","url('"+i+"')")},Sluice.ShopGallery.prototype.showStrapsThumbnail=function(){t(".gallery-thumbnail-wrapper.straps").css("display","block")},Sluice.ShopGallery.prototype.hideStrapsThumbnail=function(){t(".gallery-thumbnail-wrapper.straps").css("display","none"),2===this.imgIndex&&this.setMainGalleryImg(0)}}(jQuery,window.Sluice=window.Sluice||{}),!function(t,i,o,e){var r=o,s=(new r,"Standard"),n="Hammie",a=5e3,c=4e3,l=2e3,d=2e3,p={RED:"red",BLUE:"blue",TAN:"tan",BURGUNDY:"burgundy",TURQUOISE:"turquoise"},m={};i.HammockBuilder=function(){this.$container=t(".builder-body"),this.reset(),this.render(),this.listen()},i.HammockBuilder.prototype.reset=function(){this.model=s,this.bodyColor=p.RED,this.accentColor=null,this.straps=!1,this.price=a},i.HammockBuilder.prototype.updatePrice=function(){var t=0;t+=this.model===s?a:c,null!==this.accentColor&&(t+=l),this.straps===!0&&(t+=d),this.price=t},i.HammockBuilder.prototype.setModelStandard=function(){this.model=s},i.HammockBuilder.prototype.setModelHammie=function(){this.model=n},i.HammockBuilder.prototype.setBodyColor=function(t){t=t||p.RED,t===this.accentColor&&(this.accentColor=t!==p.RED?p.RED:p.BLUE),this.bodyColor=t},i.HammockBuilder.prototype.setAccentColor=function(t){t=t||p.RED,this.bodyColor===t&&(t=this.bodyColor!==p.RED?p.RED:p.BLUE),this.accentColor=t},i.HammockBuilder.prototype.clearAccentColor=function(){this.accentColor=null},i.HammockBuilder.prototype.setStraps=function(t){this.straps=t},i.HammockBuilder.prototype.getDescription=function(){var t=this.bodyColor;return this.accentColor!==e&&null!==this.accentColor&&(t+=" with "+this.accentColor+" accent"),t+=this.straps===!0?", straps included":", straps not included"},i.HammockBuilder.prototype.getHammockImgSrc=function(){var t="img/hammocks/"+this.bodyColor+"/"+this.bodyColor;return null!==this.accentColor&&this.accentColor!==e&&(t+="-"+this.accentColor),t+=".jpg"},i.HammockBuilder.prototype.getBagImgSrc=function(){return"img/bags/"+this.bodyColor+".jpg"},i.HammockBuilder.prototype.getCurrentConfig=function(){var t={model:this.model,bodyColor:this.bodyColor,accentColor:this.accentColor,straps:this.straps,price:this.price,imgSrc:this.getHammockImgSrc(),desc:this.getDescription()};return t},m.MODEL_SECTION=['<div class="row pls mtl mbm prs">','<div class="gear-builder-text col l12 m12">',"Choose my hammock model","</div>","</div>",'<div class="row pls model-selection prs">','<div class="col l6 m6 s6 btn gray btn-grp btn-left inline-small active model-btn standard">Standard</div>','<div class="col l6 m6 s6 btn gray btn-grp btn-right inline-small model-btn hammie">Kid\'s Hammie</div>',"</div>",'<div id="infoMsg" class="row info-msg-container minimized hide pls prs">','<div class="col l12 mtl">','<div class="info-msg">',"The hammie is a smaller version of the Standard Hammock meant for kids!","</div>","</div>","</div>"].join(""),m.HORIZONTAL_BREAK=['<div class="row pls prs mtl">','<div class="hb col l12 m12"></div>',"</div>"].join(""),m.BODY_COLOR_SECTION=['<div class="row pls mtl mbs prs">','<div class="gear-builder-text col l12 m12">',"Choose my hammock's color","</div>","</div>",'<div id="bodyColors" class="row">','<div class="col s20p m20p l20p color-choice active" data-color="red">','<img src="img/fabric-colors/red-fabric.png", alt="red" />',"</div>",'<div class="col l20p m20p s20p color-choice" data-color="blue">','<img src="img/fabric-colors/blue-fabric.png", alt="blue" />',"</div>",'<div class="col l20p m20p s20p color-choice" data-color="tan">','<img src="img/fabric-colors/tan-fabric.png", alt="tan" />',"</div>",'<div class="col l20p m20p s20p color-choice" data-color="burgundy">','<img src="img/fabric-colors/burgundy-fabric.png", alt="burgundy" />',"</div>",'<div class="col l20p m20p s20p color-choice" data-color="turquoise">','<img src="img/fabric-colors/turquoise-fabric.png", alt="turquoise" />',"</div>","</div>"].join(""),m.ACCENT_COLOR_SECTION=['<div class="row pls mtl mbs prs">','<div class="gear-builder-text col l9 m9 s9">',"Choose my hammock's accent color","</div>",'<div class="col l3 m3 s3">','<div id="accentColorToggler" class="toggler-wrapper"></div>',"</div>","</div>",'<div id="accentColors" class="row color-choices optional hidden">','<div class="col s20p m20p l20p color-choice active" data-color="red">','<img src="img/fabric-colors/red-fabric.png", alt="red" />',"</div>",'<div class="col l20p m20p s20p color-choice" data-color="blue">','<img src="img/fabric-colors/blue-fabric.png", alt="blue" />',"</div>",'<div class="col l20p m20p s20p color-choice" data-color="tan">','<img src="img/fabric-colors/tan-fabric.png", alt="tan" />',"</div>",'<div class="col l20p m20p s20p color-choice" data-color="burgundy">','<img src="img/fabric-colors/burgundy-fabric.png", alt="burgundy" />',"</div>",'<div class="col l20p m20p s20p color-choice" data-color="turquoise">','<img src="img/fabric-colors/turquoise-fabric.png", alt="turquoise" />',"</div>","</div>"].join(""),m.STRAPS_SECTION=['<div class="row pls mtl mbs prs">','<div class="gear-builder-text col l9 m9 s9">',"I need straps","</div>",'<div class="col l3 m3 s3">','<div id="strapsToggler" class="toggler-wrapper"></div>',"</div>","</div>"].join(""),m.PRICE_SECTION=['<div class="row pls prs mtl">','<div class="col l12 m12 total-hammock-price">$<span id="hammockPrice">50.00</span></div>',"</div>"].join(""),m.ADD_TO_CART_SECTION=['<div class="row">','<div class="col l12 m12">','<div class="cart-btn-wrapper">','<div id="addHammockToCartBtn" class="btn cart-btn shadow">Add to cart</div>',"</div>","</div>","</div>"].join(""),i.HammockBuilder.prototype.render=function(){var i=m.MODEL_SECTION+m.BODY_COLOR_SECTION+m.HORIZONTAL_BREAK+m.ACCENT_COLOR_SECTION+m.HORIZONTAL_BREAK+m.STRAPS_SECTION+m.HORIZONTAL_BREAK+m.PRICE_SECTION+m.ADD_TO_CART_SECTION;this.$container.html(i),t(".toggler-wrapper").toggler({initState:"off",size:"large",lblOn:"yes",lblOff:"no"})},i.HammockBuilder.prototype.renderModelBtnGroup=function(){t(".btn-grp").removeClass("active"),this.model===s?(t(".btn-grp.standard").addClass("active"),t(".info-msg-container").removeClass("show").addClass("hide")):(t(".btn-grp.hammie").addClass("active"),t(".info-msg-container").removeClass("hide").addClass("show"))},i.HammockBuilder.prototype.renderBodyColor=function(){t("#bodyColors .color-choice").removeClass("active"),t('#bodyColors .color-choice[data-color="'+this.bodyColor+'"]').addClass("active")},i.HammockBuilder.prototype.renderAccentColor=function(){t("#accentColors .color-choice").removeClass("active"),t("#accentColors .color-choice").removeClass("disabled"),null!==this.accentColor&&t('#accentColors .color-choice[data-color="'+this.accentColor+'"]').addClass("active"),t('#accentColors .color-choice[data-color="'+this.bodyColor+'"]').addClass("disabled")},i.HammockBuilder.prototype.renderPrice=function(){t("#hammockPrice").html((Math.floor(this.price)/100).toFixed(2))},i.HammockBuilder.prototype.listen=function(){this.onModelClick(),this.onBodyColorClick(),this.onAccentColorToggle(),this.onAccentColorClick(),this.onStrapsToggle(),this.onAddToCartClick()},i.HammockBuilder.prototype.onModelClick=function(){var i=this;t(".btn-grp.model-btn").on("click",function(){i.model=t(this).hasClass("standard")?s:n,i.updatePrice(),i.renderModelBtnGroup(),i.renderPrice()})},i.HammockBuilder.prototype.onBodyColorClick=function(){var i=this;t("#bodyColors .color-choice").on("click",function(){var o=t(this).attr("data-color");i.setBodyColor(o),i.renderBodyColor(),i.renderAccentColor(),i.$container.trigger("change")})},i.HammockBuilder.prototype.onAccentColorToggle=function(){var i=this;t("#accentColorToggler").on("switchon",function(){t("#accentColors").removeClass("hidden"),i.setAccentColor(),i.renderAccentColor(),i.updatePrice(),i.renderPrice(),i.$container.trigger("change")}).on("switchoff",function(){t("#accentColors").addClass("hidden"),i.clearAccentColor(),i.renderAccentColor(),i.updatePrice(),i.renderPrice(),i.$container.trigger("change")})},i.HammockBuilder.prototype.onAccentColorClick=function(){var i=this;t("#accentColors .color-choice").on("click",function(){var o=t(this).attr("data-color");i.setAccentColor(o),i.renderAccentColor(),i.$container.trigger("change")})},i.HammockBuilder.prototype.onStrapsToggle=function(){var i=this;t("#strapsToggler").on("switchon",function(){i.setStraps(!0),i.updatePrice(),i.renderPrice(),i.$container.trigger("change")}).on("switchoff",function(){i.setStraps(!1),i.updatePrice(),i.renderPrice(),i.$container.trigger("change")})},i.HammockBuilder.prototype.onAddToCartClick=function(){var i=this;t("#addHammockToCartBtn").on("click",function(t){t.stopPropagation(),i.$container.trigger("addtocart")})}}(jQuery,window.Sluice=window.Sluice||{},Sluice.ShopGallery),!function(t,i,o){function e(t){var i,o=[t.type,";"];for(i in t.config)o.push(i),o.push(":"),o.push(t.config[i]),o.push(";");return o.join("")}var r=10,s=4e3,n=600,a={};t.ShoppingCart=function(t,r){var s;this.$container=i(t),this.$headerComponent=i(".mini-cart-wrapper"),this.getItemKey=r||e,this.getItemKey=e,this.expandedContainerHeight=i(window).height(),i.cookie.json=!0;try{s=i.cookie("sluice_cart_cookie"),s!==o&&null!==s&&""!==s?(this.items=s.items,this.keys=s.keys,this.numItems=s.numItems,this.nextUid=s.nextUid):this.empty()}catch(n){i.removeCookie("sluice_cart_cookie",null),this.empty()}this.totalPrice=this.getTotalPrice(),this._render(),this._listen()},t.ShoppingCart.prototype.empty=function(){this.items={},this.keys=[],this.numItems=0,this.nextUid=0,this.totalPrice=0},t.ShoppingCart.prototype.getShippingPrice=function(){return this.getSubtotalPrice()>=s?0:n},t.ShoppingCart.prototype.getSubtotalPrice=function(){var t,i,e=0;for(i=0;i<this.keys.length;i++)t=this.keys[i],t!==o&&null!==t&&this.items[t]!==o&&null!==this.items[t]&&(e+=this.items[t].item.config.price*this.items[t].quantity);return e},t.ShoppingCart.prototype.getTotalPrice=function(){return this.getShippingPrice()+this.getSubtotalPrice()},t.ShoppingCart.prototype.addItem=function(t,i){var e=this.getItemKey(t);i=i||1,this.items[e]!==o&&null!==this.items[e]?(this.items[e].quantity+i>r&&(i=r-this.items[e].quantity),this.items[e].quantity+=i):(this.items[e]={uid:this.nextUid,item:t,quantity:i},this.keys[this.nextUid]=e,this.nextUid++),this.numItems+=i,this.totalPrice=this.getTotalPrice(),this._saveStateInCookie(),this._render()},t.ShoppingCart.prototype.removeItem=function(t){var i=this.getItemKey(t);this.removeItemByKey(i)},t.ShoppingCart.prototype.removeItemByUid=function(t){var i=this.keys[t];this.removeItemByKey(i)},t.ShoppingCart.prototype.removeItemByKey=function(t){var i=this.items[t];return i===o||null===i?null:(this.keys[i.uid]=null,this.numItems-=i.quantity,delete this.items[t],this.totalPrice=this.getTotalPrice(),this._saveStateInCookie(),void this._render())},t.ShoppingCart.prototype.updateQuantity=function(t,i){var o=this.getItemKey(t);this.updateQuantityByKey(o,i)},t.ShoppingCart.prototype.updateQuantityByUid=function(t,i){var o=this.keys[t];this.updateQuantityByKey(o,i)},t.ShoppingCart.prototype.updateQuantityByKey=function(t,i){this.items[t]!==o&&(isNaN(i)||i>99||(0===i?(this.removeItemByKey(t),0===this.numItems&&this.empty()):0>i?i=Math.abs(i):(this.numItems+=i-this.items[t].quantity,this.items[t].quantity=i),this.totalPrice=this.getTotalPrice(),this._saveStateInCookie(),this._render()))},t.ShoppingCart.prototype.priceToString=function(t){var i=(Math.floor(t)/100).toFixed(2);return i="0.00"===i?"FREE":"$"+i},t.ShoppingCart.prototype._saveStateInCookie=function(){var t={};t.items=this.items,t.keys=this.keys,t.numItems=this.numItems,t.nextUid=this.nextUid,i.cookie.json=!0,i.removeCookie("sluice_cart_cookie"),i.cookie("sluice_cart_cookie",t,{expires:14})},a.CART=['<div class="shopping-cart-inner">','<div class="grid">{{CART_INNER}}</div>',"</div>"].join(""),a.ACTION_BTNS=['<div class="row cart-row mtl">','<div class="col l6 m6 s6 btn btn-grp btn-left blue-solid keep-shopping-btn">Keep shopping</div>','<div id="checkoutBtn" class="col spinner-btn l6 m6 s6 btn btn-grp btn-right green-solid  {{EMPTY_CLASS}}">','<div class="btn-wrapper show">',"Checkout with PayPal","</div>",'<div class="spinner-wrapper hide">','<div class="spinner">','<div class="rect1"></div>','<div class="rect2"></div>','<div class="rect3"></div>','<div class="rect4"></div>','<div class="rect5"></div>',"</div>","</div>","</div>","</div>"].join(""),a.TOTALS=['<div class="totals-wrapper mtl mbl">','<div class="row cart-row ptl">','<div class="col shopping-cart-total-price l12">','<span class="cart-total-price-lbl">Total</span>','<span class="cart-total-price-wrapper">','<span class="cart-total-price">{{TOTAL_PRICE}}</span>',"</span>","</div>","</div>",'<div class="row cart-row  pls prs mtl mbl">','<div class="hb col l12"></div>',"</div>",'<div class="row cart-row mtm">','<div class="col subtotal l12">','<span class="total-count">{{TOTAL_ITEM_COUNT}}</span>','<span class="total-count-lbl">{{TOTAL_ITEM_COUNT_LBL}}</span>','<span class="cart-subtotal-wrapper">','<span class="cart-subtotal">{{SUBTOTAL_PRICE}}</span>',"</span>","</div>","</div>",'<div class="row cart-row mtm pbl">','<div class="col subtotal l12">','<span class="shopping-lbl">Shipping</span>','<span class="shipping-wrapper">',"<span>{{SHIPPING_PRICE}}</span>","</span>","</div>","</div>","</div>"].join(""),a.SHIPPING_MESSAGE=['<div class="shipping-msg-wrapper mtl mbl">','<div class="row cart-row pam">',"Free US shipping on orders over $40.00","</div>","</div>"].join(""),a.CART_ITEM=['<div class="row cart-row pam">','<div class="col l6 m6 s6">','<div class="cart-preview-wrapper prm">','<img src="{{PREVIEW_SRC}}", alt="preview" />',"</div>","</div>",'<div class="col l5 m5 s5">','<div class="cart-item-quantity">QTY ','<span class="qty-val">{{ITEM_QTY}}</span>','<input type="button" class="update-btn plus mlm" value="+" data-item-key="{{ITEM_KEY}}" />','<input type="button" class="update-btn minus mlm" value="-" data-item-key="{{ITEM_KEY}}" />',"</div>",'<div class="cart-item-title ptm">{{MODEL}}</div>','<div class="cart-item-price pbm">','<span class="cart-item-price-val">{{ITEM_PRICE}}</span>',"</div>",'<div class="cart-item-desc">{{ITEM_DESC}}</div>',"</div>",'<div class="col l1 m1 s1">','<div class="x-btn remove-item-btn" data-item-key="{{ITEM_KEY}}">X</div>',"</div>","</div>"].join(""),a.LINE_BREAK=['<div class="row cart-row  pls prs mtl">','<div class="hb col l12"></div>',"</div>"].join(""),a.EMPTY_CART=['<div class="row cart-row pls prs mtl">','<div class="col l12 l-txt-center m-txt-center s-txt-center">',"Your cart is empty","</div>","</div>"].join(""),a.HEADER_COMPONENT=['<div class="mini-cart">','<div class="mini-cart-lbl">Cart</div>','<div class="mini-cart-quantity">{{TOTAL_ITEM_COUNT}}</div>',"</div>"].join(""),t.ShoppingCart.prototype._render=function(){var t,i,e=a.HEADER_COMPONENT,r=a.CART,s=a.ACTION_BTNS,n="";if(this.numItems<1)this.$container.addClass("empty"),s=s.replace("{{EMPTY_CLASS}}","empty"),s+=a.EMPTY_CART;else for(this.$container.removeClass("empty"),s=s.replace("{{EMPTY_CLASS}}",""),s+=a.TOTALS.replace("{{TOTAL_PRICE}}",this.priceToString(this.totalPrice)).replace("{{TOTAL_ITEM_COUNT}}",this.numItems).replace("{{TOTAL_ITEM_COUNT_LBL}}",this.numItems>1?" Items":" Item").replace("{{SUBTOTAL_PRICE}}",this.priceToString(this.getSubtotalPrice())).replace("{{SHIPPING_PRICE}}",this.priceToString(this.getShippingPrice())),s+=a.SHIPPING_MESSAGE,s+=a.LINE_BREAK,i=0;i<this.keys.length;i++)t=this.items[this.keys[i]],t!==o&&null!==t&&(n="","Hammock"===t.item.type&&(n=" Hammock"),s+=a.CART_ITEM.replace("{{PREVIEW_SRC}}",t.item.config.imgSrc).replace("{{ITEM_QTY}}",t.quantity).replace("{{MODEL}}",t.item.config.model+n).replace(/\{\{ITEM_KEY\}\}/g,this.keys[i]).replace("{{ITEM_PRICE}}",this.priceToString(t.item.config.price)).replace("{{ITEM_DESC}}",t.item.config.desc),s+=a.LINE_BREAK);r=r.replace("{{CART_INNER}}",s),this.$container.html(r),this.setCartWidth(),this.$headerComponent.html(e.replace("{{TOTAL_ITEM_COUNT}}",this.numItems))},t.ShoppingCart.prototype.hide=function(){this.$container.addClass("hidden"),i(".container").removeClass("expanded-shopping-cart").css("height","auto")},t.ShoppingCart.prototype.expand=function(){this.$container.removeClass("hidden"),i(".container").addClass("expanded-shopping-cart").css("height",this.expandedContainerHeight+"px")},t.ShoppingCart.prototype.setCartWidth=function(){var t=i(window).width();t>480&&(t=480),i(".shopping-cart-inner").css("width",t+"px")},t.ShoppingCart.prototype._listen=function(){this._onKeepShoppingClick(),this._onRemoveBtnClick(),this._onPlusBtnClick(),this._onMinusBtnClick(),this._onQuantityLoseFocus(),this._onCartBlur(),this._onCartClickStopPropagation(),this._onCartHeaderClick(),this._onCheckoutBtnClick(),this._onWindowResize()},t.ShoppingCart.prototype._onKeepShoppingClick=function(){var t=this;this.$container.on("click",".shopping-cart-inner .grid .row .keep-shopping-btn",function(){t.hide()})},t.ShoppingCart.prototype._onRemoveBtnClick=function(){var t=this;this.$container.on("click",".shopping-cart-inner .grid .row .col .remove-item-btn",function(){t.removeItemByKey(i(this).attr("data-item-key"))})},t.ShoppingCart.prototype._onPlusBtnClick=function(){var t,e=this;this.$container.on("click",".shopping-cart-inner .grid .row .col .cart-item-quantity .plus",function(){t=i(this).attr("data-item-key"),e.items[t]!==o&&null!==e.items[t]&&e.items[t].quantity<10&&(e.updateQuantityByKey(t,e.items[t].quantity+1),e._render())})},t.ShoppingCart.prototype._onMinusBtnClick=function(){var t,e=this;this.$container.on("click",".shopping-cart-inner .grid .row .col .cart-item-quantity .minus",function(){t=i(this).attr("data-item-key"),e.items[t]!==o&&null!==e.items[t]&&(e.updateQuantityByKey(t,e.items[t].quantity-1),e._render())})},t.ShoppingCart.prototype._onQuantityLoseFocus=function(){var t=this;this.$container.on("blur",".shopping-cart-inner .grid .row .col .cart-item-quantity .qty-input",function(){var o=i(this).val().trim();(o.length>2||o.length<1||isNaN(o)||parseInt(o)>r)&&t._render()})},t.ShoppingCart.prototype._onCartBlur=function(){var t=this;i(document).on("click",function(){t.hide()})},t.ShoppingCart.prototype._onCartClickStopPropagation=function(){this.$container.on("click",function(t){t.stopPropagation()})},t.ShoppingCart.prototype._onCartHeaderClick=function(){var t=this;this.$headerComponent.on("click",function(i){t.expand(),i.stopPropagation()})},t.ShoppingCart.prototype._onCheckoutBtnClick=function(){var t,o=this,e=[];this.$container.on("click",".shopping-cart-inner .grid .row #checkoutBtn",function(r){if(r.stopPropagation(),o.numItems>0&&i(".btn-wrapper",i(this)).hasClass("show")){i(document).add("*").off(),i(".btn-wrapper",i(this)).removeClass("show").addClass("hide"),i(".spinner-wrapper",i(this)).removeClass("hide").addClass("show");for(key in o.items)e.push(o.items[key]);t=encodeURIComponent(JSON.stringify(e)),window.location.href="/order?paymentMethod=paypal&cart="+t}})},t.ShoppingCart.prototype._onWindowResize=function(){var t=this;i(window).on("resize",function(){t.setCartWidth(),t.expandedContainerHeight=i(window).height(),t.$container.hasClass("hidden")||i(".container").css("height",t.expandedContainerHeight+"px")})}}(window.Sluice=window.Sluice||{},jQuery),!function(t,i,o,e){var r=i,s=o,n=e,a=new r,c=new s,l=new n("#shoppingCartContainer");a.$container.on("change",function(){var t=a.getHammockImgSrc(),i=a.getBagImgSrc();c.setHammockThumbnailSrc(t),c.setBagThumbnailSrc(i),a.straps===!0?c.showStrapsThumbnail():c.hideStrapsThumbnail()}).on("addtocart",function(){l.addItem({type:"Hammock",config:a.getCurrentConfig()}),l.expand()}),l.$container.on("checkout",function(){console.log("checkout!")}),t("#strapBagColors .color-choice").on("click",function(){t(this).parent().children().removeClass("active"),t(this).addClass("active")}),t("#addStrapsToCartBtn").on("click",function(i){var o=t("#strapBagColors .color-choice.active").attr("data-color");l.addItem({type:"Straps",config:{model:"Straps",bagColor:o,desc:"Extra straps with "+o+" bag",price:2e3,imgSrc:"img/straps.jpg"}}),l.expand(),i.stopPropagation()}),t("#addCarabinerToCartBtn").on("click",function(t){l.addItem({type:"Carabiner",config:{model:"Black Diamond Neutrino",desc:"Climbing rated carabiner",price:550,imgSrc:"img/bd-neutrino.jpg"}}),l.expand(),t.stopPropagation()})}(jQuery,Sluice.HammockBuilder,Sluice.ShopGallery,Sluice.ShoppingCart);
